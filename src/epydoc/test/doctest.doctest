Regression Testing for doctest
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

    >>> from epydoc.markup import epytext
    >>> from epydoc.markup import doctest

    >>> def testparse(s):
    ...     print(doctest.doctest_to_xml(s.strip()).strip())

Only a declaration:

    >>> testparse("""
    ... >>> name = DottedName('epydoc', 'api_doc', 'DottedName')
    ... """)
    <colorized>
    <prompt>&gt;&gt;&gt; </prompt>name = DottedName(<string>'epydoc'</string>, <string>'api_doc'</string>, <string>'DottedName'</string>)
    </colorized>

Execution with a result:

    >>> testparse("""
    ... >>> print("epydoc.apidoc.DottedName")
    ... epydoc.apidoc.DottedName
    ... """)
    <colorized>
    <prompt>&gt;&gt;&gt; </prompt><builtin>print</builtin>(<string>"epydoc.apidoc.DottedName"</string>)
    <output>epydoc.apidoc.DottedName</output></colorized>

Execution with a multiline result:

    >>> testparse("""
    ... >>> print("epydoc.apidoc.DottedName\nepydoc.apidoc.DottedName")
    ... epydoc.apidoc.DottedName
    ... epydoc.apidoc.DottedName
    ... """)
    <colorized>
    <prompt>&gt;&gt;&gt; </prompt><builtin>print</builtin>("epydoc.apidoc.DottedName
    <output>epydoc.apidoc.DottedName")</output>
    <output>epydoc.apidoc.DottedName</output>
    <output>epydoc.apidoc.DottedName</output></colorized>
